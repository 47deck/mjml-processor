plugins {
    id 'pl.allegro.tech.build.axion-release' version '1.8.1'
}

scmVersion {
    tag {
        prefix = ''
    }
}

project.version = scmVersion.version
group 'com.wescale'

apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
    testCompile group: 'commons-io', name: 'commons-io', version: '2.6'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}


task writeVersion {
    group 'Build'
    description "Writes the artifact version of this project into a 'version.txt' file. Used for jenkins 'rename build task'."
    doFirst {
        new File("version.txt").write(project.version)
    }
}


build.dependsOn << "writeVersion"
